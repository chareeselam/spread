@import url('https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&family=Playfair+Display:ital,wght@0,400..900;1,400..900&display=swap');

:root{
    --spacing: 1rem;
    --heading-font: "Playfair Display", serif;
    --body-font: "Inter", sans-serif;

    --blue: #98cdff;
    --dark-blue:#1B263F;
    --highlight: #DEFFAC;
    --white:#FFFFFF;
}

html{scroll-behavior: smooth;}

/* ------------ layout ------------- */
header,footer{
    padding: var(--spacing);
    background-color:var(--dark-blue);
    color: var(--white);
}

footer{margin-block-start: 8%;}

section{
    margin-block-start: var(--spacing);
}

/* ------------ type ------------- */
h1, h2, h3{
    font-family: var(--heading-font);
    font-weight: 600;
}

h1{
    font-size: calc(4*var(--spacing));
    line-height: calc(4.5*var(--spacing));
    color: var(--white);
    padding-block-end: calc(2*var(--spacing));     
}

h2 {
    font-size: calc(3.5 * var(--spacing));
    line-height: calc(3 * var(--spacing));
    color: var(--dark-blue);
    /* This background color makes it have a "glass" effect */
    background-color: rgba(236, 236, 236, 0.69);
    padding-inline: var(--spacing);
    padding-block-start: calc(0.7 * var(--spacing));
    padding-block-end: calc(1.5*var(--spacing));
    margin-block-start: calc(-1 * var(--spacing));
    position: sticky;
    top: 0;
    z-index: 1;
    backdrop-filter: blur(6px);
    border-bottom: solid var(--white) 0.05em;
}

h3{
    font-size: calc(1.8*var(--spacing));
    background-color:var(--blue);
    color:var(--dark-blue);
    margin-block-start: calc(4*var(--spacing));
    margin-block-end: calc(1*var(--spacing));
    margin-inline: var(--spacing);
    padding-block: calc(0.5*var(--spacing));
    padding-inline: calc(0.5*var(--spacing));
    inline-size: fit-content;
    line-height: calc(2.4*var(--spacing));
}

header > p { font-style: italic; }

p{
    padding-block: var(--spacing);
    padding-inline: var(--spacing);
    font-family: var(--body-font);
    font-size: calc(1.1*var(--spacing));
    line-height: calc(2*var(--spacing));
}

.non-timeline-text-chunk p { padding-inline: initial; }
.non-timeline-text-chunk h3{ margin-inline:  initial; }

header p {
    margin: initial;
    padding-inline: initial;
    padding-block: var(--spacing);
}

header ol{
    display:flex;
    flex-direction:column;
    align-items:flex-start;
}

h3 + p::first-letter {
    font-size: calc(1.8 * var(--spacing));
    font-family: var(--heading-font);
    font-weight: 600;
    color: var(--dark-blue);
}

.h1-em {
    font-weight: 600;
    font-family: var(--body-font);
    font-style: normal;
    color:var(--blue);
}

.bold{
    font-weight: 700;
}

.italicize{
    font-style:italic;
}

/* ------------ footer ------------- */

footer p{
    font-family: var(--body-font);
    padding-inline: initial;
    padding-block: calc(0.3*var(--spacing));
}

footer li:nth-child(1){
    color:var(--blue);
}

footer a {
    color: var(--blue);
    text-decoration: none;
    transition: color 0.3s ease-in-out;
}

footer a:hover {
    color: var(--dark-blue);
    text-decoration: underline;
}

/* ------------ blockquote ------------- */

blockquote {
    background-color: var(--blue);
    padding-block: calc(1.5*var(--spacing));
}

blockquote p {
    max-inline-size: 60ch;
    padding-inline: calc(2*var(--spacing));
    font-size: calc(1.2*var(--spacing));
    font-family: var(--heading-font);
    font-weight: 500;
    line-height: calc(2*var(--spacing));
}

blockquote p::before { 
    content: '“'; 
    margin-inline-start: -0.4em;
}

blockquote p::after { 
    content: '”'; 
}

/* ------------ links ------------- */

a {
    color: black;
    text-decoration: underline;
    text-decoration-style: solid;
    text-decoration-color: black;
    text-decoration-thickness: 0.1em;
    text-underline-offset: 0.15em;
    transition: color 0.3s ease-in-out;
}

a:hover {
    color: black;
    background: var(--blue);
    text-decoration-color: black;
}

/* ------------ timeline ------------- */

.timeline {
    position: relative;
    border-inline-start: 0.25rem solid var(--blue);
    margin-inline-start: var(--spacing);
    padding-inline-start: calc(0.1*var(--spacing));
}

.text-chunk,
.non-timeline-text-chunk {
    padding-block-start: var(--spacing);
    padding-block-end: calc(5*var(--spacing));
}

.non-timeline-text-chunk {
    padding-inline: var(--spacing);
}

.timeline::before,
.timeline::after {
    content: "";
    position: absolute;
    left: 0;
    transform: translateX(-60%);
    width: var(--spacing);
    height: var(--spacing);
    border-radius: 50%;
    background: var(--blue);
}

.timeline::before {
    top: calc(-0.37*var(--spacing));
}

.timeline::after {
    bottom: calc(-0.37*var(--spacing));
}


/* ------------ scroll highlight ------------- */

/* We wanted to animate highlighting key text in our article as a user scrolls */
/* We know our classmate Cason had done something similar in his previous project so we sought out some guidance. */
.highlight {
    /* Highlights our text from left to right, consistent color with var(--highlight) */
    background-image: linear-gradient(to right, var(--highlight), var(--highlight));
    /* Makes the highlight animation move. Also makes it highlight backwards on reverse scroll */
    background-repeat: no-repeat;
    /* Fallback in case it's not supported on certain browsers */
    background-size: 100% 100%;
    background-position: 0 0;
}

@supports (animation-timeline:view(block)){
    .highlight{
        background-size: 0% 100%;
        animation-name: highlight;
        /* Animation starts after the user has entered 30% of the viewport. Lots of trial and error testing here -> had to experiment between scroll() and view()*/
        animation-timeline: view(30% 20%);
        /* Sets the animation axis */
        animation-timing-function: linear;
        animation-fill-mode: both;
        animation-range: entry 0% cover 100%;
    }
}

    /* Highlights from beginning to end of text from 0->100% of our <span> */
@keyframes highlight {
    from { background-size: 0% 100%; }   
    to   { background-size: 100% 100%; }
}

/* ------------ media ------------- */
@media(width>750px) {
    header, footer { padding: 5%; }

    .non-timeline-text-chunk, blockquote, h2, .timeline { padding-inline: 5%; }

    blockquote { padding-block: calc(2*var(--spacing)); }

    blockquote p { font-size: calc(1.4*var(--spacing)); }

    h1 { max-inline-size: 25ch; }

    .timeline { margin-inline: 5%; }

    p{
        inline-size: 80%;
        max-inline-size: 65ch;
    }

    header p {
        padding-inline-end: var(--spacing);
        padding-block: var(--spacing);
        inline-size: initial;
    }

    header ol{
        display:flex;
        flex-direction: column;
        align-items: flex-start;
    }

    footer li p{ 
        inline-size: 100%;
        text-wrap: nowrap;
    }
}

@media(width>1100px) {
    :root{ font-size: 110%; }
    
    header ol {
        display:grid;
        grid-template-columns: repeat(2, 12rem) 1fr;
        align-items:start;
    }

    footer ol{
        display:flex;
        justify-content: space-between;
    }

    h1 {
        max-inline-size: 25ch;
        font-size: calc(4.8 * var(--spacing));
        line-height: calc(5.2 * var(--spacing));
        padding-block-end: calc(4*var(--spacing)); 
    }

    h2{ font-size: calc(4*var(--spacing));}

    p {
        line-height: calc(2.2*var(--spacing));
        padding-block: var(--spacing);
        max-inline-size: 70%;
    }

    blockquote {
        padding-inline: calc(3 * var(--spacing));
    }

    blockquote p {
        max-inline-size: 60ch;
        margin-inline: auto;
        padding-inline: initial;
        padding-block: calc(0.5*var(--spacing));
        font-size: calc(1.5*var(--spacing));
        line-height: calc(2.4*var(--spacing));
    }

    .timeline { margin-inline: calc(4*var(--spacing)); }
}

@media print{

    header p, h1, h2{ color: black; }

    header{ 
        background-color: var(--white);
        padding-block-end: initial;
    }

    header p, h1{ padding-block-end: initial; }

    h1{
        font-size: calc(3.5*var(--spacing));
        line-height: calc(4*var(--spacing));
        padding-block-end: calc(2*var(--spacing));
    }

    .h1-em { color:var(--blue); }

    h2{
        border: calc(0.1*var(--spacing)) solid var(--dark-blue);
        font-size: calc(3*var(--spacing)); 
        padding-block-start: calc(0.2*var(--spacing));
        padding-block-end: calc(0.8*var(--spacing));
    }

    h2:first-of-type, blockquote:last-of-type{ break-before: page;}

    h3{
        padding-inline: initial;
        margin-block-start: calc(1.75*var(--spacing));
        margin-block-end: calc(0.25*var(--spacing));
        inline-size: fit-content;
        display: inline-block;
        background-color: var(--white);
    }

    blockquote{
        padding-inline-start: 10%;
        padding-block: initial;
        background-color: var(--white);
    }

    .text-chunk{ 
        padding-block-end: initial; 
        padding-inline: calc(2*var(--spacing));
    }

    a { text-decoration: none; }

    p {
        padding-block: var(--spacing);
        font-size: calc(0.9*var(--spacing));
        line-height: calc(1.8*var(--spacing));
    }

    .highlight{
        font-style: italic;
        background-color: var(--highlight);
    }

    .timeline { z-index: 30; }

    header ol {
        display: grid;
        grid-template-columns: 12rem 12rem 1fr;
        grid-template-areas:
        "author date  date"
        "note   note  note";
        padding-block-end: calc(2*var(--spacing));
        border-bottom: 0.1rem solid var(--dark-blue);
    }

    header ol li:nth-child(1) { grid-area: author; }
    header ol li:nth-child(2) { grid-area: date; }
    header ol li:nth-child(3) { grid-area: note; }

    footer{ display: none; }
}

/* ----- for monitor bigger than 16 inch laptop ----- */
@media (width>1728px) {
    header, footer, .non-timeline-text-chunk, h2 {
        padding-inline: 20%;
    }

    .timeline {
        margin-inline: 20%; /*change the calc value to move the blue line */
    }
}